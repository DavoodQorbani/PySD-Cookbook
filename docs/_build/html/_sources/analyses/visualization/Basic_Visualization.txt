
Basic Visualization
===================

There are a wealth of python libraries that make creating beautiful
figures for print (in color and b/w) extremely easy. In this notebook,
we'll cover a few of the most common applications of data visualization
in system dynamics.

.. code:: python

    %pylab inline
    import pysd
    import numpy as np
    import pandas as pd


.. parsed-literal::

    Populating the interactive namespace from numpy and matplotlib


Ingredients
-----------

We'll use the Teacup model to demonstrate the various plotting
functionality available to us with PySD.

.. code:: python

    model = pysd.read_vensim('../../models/Teacup/Teacup.mdl')

Basic Plotting
--------------

The most straightforward way to plot the results of a PySD simulation is
to use the plotting functionality built into the
`pandas <http://pandas.pydata.org/>`__ dataframe that PySD returns from
a simulation run. For a detailed description of the options present in
this package, see
http://pandas.pydata.org/pandas-docs/stable/visualization.html

Pandas uses the standard `Matplotlib <http://matplotlib.org/>`__
backend, so we can set the various plot parameters using the same
syntax.

.. code:: python

    model.run().plot();
    plt.xlabel('Time')
    plt.ylabel('Temperature [$^\circ F$]')
    plt.title('Visualizing the Cooling of a Cup of Tea');



.. image:: Basic_Visualization_files/Basic_Visualization_5_0.png


If we want more control of our plots, we can unpack the dataframe by
column:

.. code:: python

    result = model.run(return_columns=['teacup_temperature', 'heat_loss_to_room'])
    x = result.index
    y1 = result['heat_loss_to_room']
    y2 = result['teacup_temperature']

We can then plot the data using matplotlib's standard plotting
interface. You may recognize these plotting commands from Matlab, as
matplotlib provides a parallel interface to make it easy to learn. See
`the matplotlib
documentation <http://matplotlib.org/1.4.3/api/pyplot_api.html#matplotlib.pyplot.plot>`__
for further details.

To plot the two sets of timeseries data we just extracted on separate
axes, we can use the following syntax. For more information about
creating subplots in matplotlib see `this
example <http://matplotlib.org/examples/pylab_examples/subplots_demo.html>`__
in the matplotlib documentation.

.. code:: python

    ax1 = plt.subplot(2,1,1)
    ax1.plot(x, y1, label='Temperature Change')
    plt.ylabel('Change in Temperature\n [$F^\circ/sec$]')
    plt.legend()
    plt.title('A cup of tea comes to room temperature')
    
    ax2 = plt.subplot(2,1,2)
    ax2.plot(x, y2, label='Teacup Temperature')
    plt.ylabel('Temperature [$F^\circ$]')
    plt.legend()
    plt.xlabel('Time [Minutes]');



.. image:: Basic_Visualization_files/Basic_Visualization_9_0.png


Plotting a suite of runs
------------------------

In some cases (such as sensitivity tests, or propagation of uncertainty)
we want to plot many runs on the same chart, to get a sense for the
variance in the model's simulation runs. This is fairly straightforward
to accomplish by constructing a dataframe with one row for each run, and
then plotting each row:

.. code:: python

    results = []
    for i in range(1000):
        results.append(model.run(params={'characteristic_time':np.random.normal(15,3)})['teacup_temperature'])
    
    resultsdf = pd.DataFrame(results)
    resultsdf.head()




.. raw:: html

    <div>
    <table border="1" class="dataframe">
      <thead>
        <tr style="text-align: right;">
          <th></th>
          <th>0.0</th>
          <th>0.125</th>
          <th>0.25</th>
          <th>0.375</th>
          <th>0.5</th>
          <th>0.625</th>
          <th>0.75</th>
          <th>0.875</th>
          <th>1.0</th>
          <th>1.125</th>
          <th>...</th>
          <th>28.75</th>
          <th>28.875</th>
          <th>29.0</th>
          <th>29.125</th>
          <th>29.25</th>
          <th>29.375</th>
          <th>29.5</th>
          <th>29.625</th>
          <th>29.75</th>
          <th>29.875</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>teacup_temperature</th>
          <td>180</td>
          <td>178.958441</td>
          <td>177.926743</td>
          <td>176.904820</td>
          <td>175.892568</td>
          <td>174.889902</td>
          <td>173.896730</td>
          <td>172.912961</td>
          <td>171.938508</td>
          <td>170.973281</td>
          <td>...</td>
          <td>82.333262</td>
          <td>82.216482</td>
          <td>82.100807</td>
          <td>81.986228</td>
          <td>81.872734</td>
          <td>81.760315</td>
          <td>81.648960</td>
          <td>81.538659</td>
          <td>81.429403</td>
          <td>81.321181</td>
        </tr>
        <tr>
          <th>teacup_temperature</th>
          <td>180</td>
          <td>179.216183</td>
          <td>178.437952</td>
          <td>177.665269</td>
          <td>176.898093</td>
          <td>176.136381</td>
          <td>175.380096</td>
          <td>174.629201</td>
          <td>173.883656</td>
          <td>173.143423</td>
          <td>...</td>
          <td>91.236618</td>
          <td>91.085295</td>
          <td>90.935050</td>
          <td>90.785875</td>
          <td>90.637763</td>
          <td>90.490707</td>
          <td>90.344698</td>
          <td>90.199730</td>
          <td>90.055795</td>
          <td>89.912886</td>
        </tr>
        <tr>
          <th>teacup_temperature</th>
          <td>180</td>
          <td>178.960713</td>
          <td>177.931243</td>
          <td>176.911505</td>
          <td>175.901398</td>
          <td>174.900835</td>
          <td>173.909725</td>
          <td>172.927979</td>
          <td>171.955509</td>
          <td>170.992226</td>
          <td>...</td>
          <td>82.392535</td>
          <td>82.275449</td>
          <td>82.159470</td>
          <td>82.044586</td>
          <td>81.930788</td>
          <td>81.818065</td>
          <td>81.706407</td>
          <td>81.595804</td>
          <td>81.486247</td>
          <td>81.377724</td>
        </tr>
        <tr>
          <th>teacup_temperature</th>
          <td>180</td>
          <td>179.161579</td>
          <td>178.329548</td>
          <td>177.503864</td>
          <td>176.684472</td>
          <td>175.871323</td>
          <td>175.064372</td>
          <td>174.263572</td>
          <td>173.468876</td>
          <td>172.680236</td>
          <td>...</td>
          <td>88.929206</td>
          <td>88.784927</td>
          <td>88.641749</td>
          <td>88.499661</td>
          <td>88.358657</td>
          <td>88.218727</td>
          <td>88.079864</td>
          <td>87.942060</td>
          <td>87.805305</td>
          <td>87.669593</td>
        </tr>
        <tr>
          <th>teacup_temperature</th>
          <td>180</td>
          <td>179.338263</td>
          <td>178.680508</td>
          <td>178.026710</td>
          <td>177.376848</td>
          <td>176.730894</td>
          <td>176.088825</td>
          <td>175.450619</td>
          <td>174.816251</td>
          <td>174.185700</td>
          <td>...</td>
          <td>97.458424</td>
          <td>97.293241</td>
          <td>97.129051</td>
          <td>96.965848</td>
          <td>96.803628</td>
          <td>96.642383</td>
          <td>96.482108</td>
          <td>96.322798</td>
          <td>96.164446</td>
          <td>96.007046</td>
        </tr>
      </tbody>
    </table>
    <p>5 rows Ã— 240 columns</p>
    </div>



In our plot command, we can specify that the opacity of each line be set
to 2 percent using the ``alpha`` pararameter. This gives us a visual
sense of the distribution of the simulation runs.

.. code:: python

    for i, row in resultsdf.iterrows():
        plt.plot(row.index, row.values, 'b', alpha=.02)
    plt.title('Visualizing uncertainty propagation')
    plt.ylabel('Temperature [$F^\circ$]')
    plt.xlabel('Time [Minutes]');



.. image:: Basic_Visualization_files/Basic_Visualization_13_0.png


Add-on Packages
---------------

There are a number of packages which interact with matplotlib to make
stylish plotting a little simpler.

Seaborn
~~~~~~~

One of these is
`Seaborn <http://stanford.edu/~mwaskom/software/seaborn/>`__. To use it,
we simply have to import it into the python environment and continue
plotting as before. Seaborn provides a host of new functions and
customizations that are illustrated
`here <http://stanford.edu/~mwaskom/software/seaborn/examples/index.html>`__.

.. code:: python

    import seaborn
    model.run().plot();
    plt.xlabel('Time')
    plt.ylabel('Temperature [$^\circ F$]')
    plt.title('Visualizing the Cooling of a Cup of Tea');



.. image:: Basic_Visualization_files/Basic_Visualization_15_0.png


MPLD3
~~~~~

Another helpful package is `MPLD3 <http://mpld3.github.io/>`__, which
constructs translates matplotlib (and thus matlab) plotting syntax into
a `d3 <http://d3js.org/>`__-rendered javascript object. Note that in the
figure below, zoom and pan tools allow you to interact with the image.

Syntax here is very similar to before, with the addition of a call to
the ``display`` function. For further examples see the `mpld3
gallery <http://mpld3.github.io/examples/index.html>`__.

.. code:: python

    import mpld3
    model.run().plot();
    plt.xlabel('Time')
    plt.ylabel('Temperature')
    plt.title('Visualizing the Cooling of a Cup of Tea');
    mpld3.display()




.. raw:: html

    
    
    <style>
    
    </style>
    
    <div id="fig_el6301544385543848546333273"></div>
    <script>
    function mpld3_load_lib(url, callback){
      var s = document.createElement('script');
      s.src = url;
      s.async = true;
      s.onreadystatechange = s.onload = callback;
      s.onerror = function(){console.warn("failed to load library " + url);};
      document.getElementsByTagName("head")[0].appendChild(s);
    }
    
    if(typeof(mpld3) !== "undefined" && mpld3._mpld3IsLoaded){
       // already loaded: just create the figure
       !function(mpld3){
           
           mpld3.draw_figure("fig_el6301544385543848546333273", {"axes": [{"xlim": [0.0, 29.875], "yscale": "linear", "axesbg": "#EAEAF2", "texts": [{"v_baseline": "hanging", "h_anchor": "middle", "color": "#262626", "text": "Time", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 11.0, "position": [0.5, -0.068426197458455532], "rotation": -0.0, "id": "el630154438596496"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#262626", "text": "Temperature", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 11.0, "position": [-0.065975722446236548, 0.5], "rotation": -90.0, "id": "el630154438522448"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#262626", "text": "Visualizing the Cooling of a Cup of Tea", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 12.0, "position": [0.5, 1.0162919517758229], "rotation": -0.0, "id": "el630154438508368"}, {"v_baseline": "auto", "h_anchor": "start", "color": "#262626", "text": "teacup_temperature", "coordinates": "axes", "zorder": 1000003.0, "alpha": 1, "fontsize": 10.0, "position": [0.75116557459677424, 0.94721407624633425], "rotation": -0.0, "id": "el630154445563792"}], "zoomable": true, "images": [], "xdomain": [0.0, 29.875], "ylim": [90.0, 180.0], "paths": [{"edgecolor": "#FFFFFF", "facecolor": "#EAEAF2", "edgewidth": 0.3, "pathcodes": ["M", "L", "L", "L", "Z"], "yindex": 1, "coordinates": "axes", "dasharray": "10,0", "zorder": 1000001.0, "alpha": 1, "xindex": 0, "data": "data03", "id": "el630154445564496"}], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"color": "#FFFFFF", "alpha": 1.0, "dasharray": "10,0", "gridOn": true}, "fontsize": 10.0, "position": "bottom", "nticks": 7, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"color": "#FFFFFF", "alpha": 1.0, "dasharray": "10,0", "gridOn": true}, "fontsize": 10.0, "position": "left", "nticks": 10, "tickvalues": null}], "lines": [{"color": "#4C72B0", "yindex": 1, "coordinates": "data", "dasharray": "10,0", "zorder": 2, "alpha": 1, "xindex": 0, "linewidth": 1.75, "data": "data01", "id": "el630154445568080"}, {"color": "#4C72B0", "yindex": 1, "coordinates": "axes", "dasharray": "10,0", "zorder": 1000002.0, "alpha": 1, "xindex": 0, "linewidth": 1.75, "data": "data02", "id": "el630154445561936"}], "markers": [], "id": "el630154438577424", "ydomain": [90.0, 180.0], "collections": [], "xscale": "linear", "bbox": [0.125, 0.125, 0.77500000000000002, 0.77500000000000002]}], "height": 440.0, "width": 640.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}], "data": {"data02": [[0.6884415602598567, 0.9586184424894102], [0.7332444276433693, 0.9586184424894102]], "data03": [[0.6794809867831542, 0.9256577875529489], [0.9887992831541218, 0.9256577875529489], [0.9887992831541218, 0.9837080482241772], [0.6794809867831542, 0.9837080482241772]], "data01": [[0.0, 180.0], [0.125, 179.248585487336], [0.25, 178.50230381053504], [0.375, 177.76112339609966], [0.5, 177.02500691908548], [0.625, 176.293916252564], [0.75, 175.5678196071584], [0.875, 174.846682864072], [1.0, 174.13047230939685], [1.125, 173.4191542289489], [1.25, 172.71269506157935], [1.375, 172.01106177287667], [1.5, 171.31422132680365], [1.625, 170.62214098920848], [1.75, 169.93478821409826], [1.875, 169.25213076061988], [2.0, 168.57413656289705], [2.125, 167.9007736514069], [2.25, 167.23201044369668], [2.375, 166.56781562011585], [2.5, 165.9081580783377], [2.625, 165.2530066956], [2.75, 164.60233066256376], [2.875, 163.95609941471622], [3.0, 163.31428260254097], [3.125, 162.6768500603399], [3.25, 162.04377182836132], [3.375, 161.41501816730093], [3.5, 160.79055954726113], [3.625, 160.17036663891616], [3.75, 159.55441026497166], [3.875, 158.94266150411045], [4.0, 158.33509161954242], [4.125, 157.7316720679479], [4.25, 157.13237442549627], [4.375, 156.53717051829747], [4.5, 155.94603238483595], [4.625, 155.35893225912358], [4.75, 154.77584256908804], [4.875, 154.19673593496114], [5.0, 153.6215851676672], [5.125, 153.05036326721125], [5.25, 152.48304342106752], [5.375, 151.91959900256765], [5.5, 151.36000356928912], [5.625, 150.8042308614435], [5.75, 150.25225479865233], [5.875, 149.7040494105472], [6.0, 149.15958891570372], [6.125, 148.61884773585584], [6.25, 148.08180046361608], [6.375, 147.54842186069635], [6.5, 147.01868685612902], [6.625, 146.492570544488], [6.75, 145.9700481841096], [6.875, 145.45109519531368], [7.0, 144.93568715862457], [7.125, 144.42379981299214], [7.25, 143.9154090540128], [7.375, 143.4104909321504], [7.5, 142.90902175123125], [7.625, 142.41097806580018], [7.75, 141.9163364819139], [7.875, 141.4250737672631], [8.0, 140.93716685132665], [8.125, 140.45259282447543], [8.25, 139.97132893707627], [8.375, 139.49335259859583], [8.5, 139.0186413767045], [8.625, 138.54717299638028], [8.75, 138.0789252984064], [8.875, 137.61387623699886], [9.0, 137.15200396174657], [9.125, 136.69328677031086], [9.25, 136.23770310666296], [9.375, 135.78523155982387], [9.5, 135.33585086260433], [9.625, 134.8895398903447], [9.75, 134.446277659655], [9.875, 134.00604332715469], [10.0, 133.5688162159311], [10.125, 133.13457581656138], [10.25, 132.70330172729925], [10.375, 132.2749736852412], [10.5, 131.8495715657207], [10.625, 131.42707538130088], [10.75, 131.0074652807674], [10.875, 130.5907215481215], [11.0, 130.17682460157286], [11.125, 129.76575499253232], [11.25, 129.35749340899739], [11.375, 128.95202067511283], [11.5, 128.54931774056115], [11.625, 128.14936568481343], [11.75, 127.7521457162369], [11.875, 127.35763917112857], [12.0, 126.96582751274893], [12.125, 126.57669233035571], [12.25, 126.19021533823756], [12.375, 125.80637837474778], [12.5, 125.42516340770383], [12.625, 125.04655253454996], [12.75, 124.67052796699488], [12.875, 124.29707203784147], [13.0, 123.92616720020331], [13.125, 123.55779602659871], [13.25, 123.1919412080447], [13.375, 122.82858555315096], [13.5, 122.46771198721382], [13.625, 122.10930355131019], [13.75, 121.75334341294092], [13.875, 121.39981484377972], [14.0, 121.04870124280252], [14.125, 120.69998611281414], [14.25, 120.3536530691472], [14.375, 120.0096858387771], [14.5, 119.66806825944325], [14.625, 119.32878427877647], [14.75, 118.99181795343279], [14.875, 118.6571534482333], [15.0, 118.32477504513999], [15.125, 117.994667143125], [15.25, 117.6668142335612], [15.375, 117.34120091313841], [15.5, 117.01781188333896], [15.625, 116.69663194966459], [15.75, 116.37764602087067], [15.875, 116.06083910820821], [16.0, 115.74619632467315], [16.125, 115.43370288426334], [16.25, 115.1233441012429], [16.375, 114.81510538941421], [16.5, 114.50897226139736], [16.625, 114.20493032791711], [16.75, 113.90296529709742], [16.875, 113.60306297376346], [17.0, 113.30520925875112], [17.125, 113.00939014863945], [17.25, 112.71559176139738], [17.375, 112.42380030551803], [17.5, 112.13400207040067], [17.625, 111.84618343938206], [17.75, 111.56033088916787], [17.875, 111.27643098927378], [18.0, 110.99447040147597], [18.125, 110.7144358792712], [18.25, 110.43631426734652], [18.375, 110.16009250105827], [18.5, 109.88575760592093], [18.625, 109.61329669710527], [18.75, 109.34269697894611], [18.875, 109.07394574445968], [19.0, 108.8070303748704], [19.125, 108.54193833914728], [19.25, 108.27865719354986], [19.375, 108.0171745746895], [19.5, 107.7574781543237], [19.625, 107.49955571981671], [19.75, 107.24339515247804], [19.875, 106.98898441659169], [20.0, 106.73631155888764], [20.125, 106.48536470801963], [20.25, 106.236132074049], [20.375, 105.98860194793453], [20.5, 105.74276270102855], [20.625, 105.49860278457913], [20.75, 105.25611072923819], [20.875, 105.01527514457597], [21.0, 104.77608471860145], [21.125, 104.538528217289], [21.25, 104.3025944841109], [21.375, 104.06827243957632], [21.5, 103.83555108077607], [21.625, 103.60441947111597], [21.75, 103.37486672836096], [21.875, 103.14688206555823], [22.0, 102.92045477085014], [22.125, 102.69557420559185], [22.25, 102.47222980386246], [22.375, 102.25041107198027], [22.5, 102.03010758802232], [22.625, 101.81130900134826], [22.75, 101.59400503212855], [22.875, 101.37818547087677], [23.0, 101.16384017798644], [23.125, 100.95095908327193], [23.25, 100.73953218551374], [23.375, 100.52954955200809], [23.5, 100.32100131812071], [23.625, 100.11387768684496], [23.75, 99.90816892836406], [23.875, 99.7038653742755], [24.0, 99.5009574209568], [24.125, 99.29943553485079], [24.25, 99.09929024757426], [24.375, 98.90051215548306], [24.5, 98.70309191924072], [24.625, 98.50702026339127], [24.75, 98.31228797593536], [24.875, 98.11888590791062], [25.0, 97.92680497297546], [25.125, 97.73603614699688], [25.25, 97.54657046764191], [25.375, 97.35839903397301], [25.5, 97.17151300604704], [25.625, 96.98590360451823], [25.75, 96.80156211024476], [25.875, 96.61847986389931], [26.0, 96.43664826511781], [26.125, 96.25605876470169], [26.25, 96.07670287526696], [26.375, 95.89857216988723], [26.5, 95.72165827922097], [26.625, 95.5459528911243], [26.75, 95.37144775026682], [26.875, 95.19813465775101], [27.0, 95.02600547073459], [27.125, 94.85505210205628], [27.25, 94.68526651986484], [27.375, 94.51664074725122], [27.5, 94.34916686188411], [27.625, 94.18283699564867], [27.75, 94.0176433342885], [27.875, 93.85357811705084], [28.0, 93.69063363633522], [28.125, 93.52880223734503], [28.25, 93.36807631666218], [28.375, 93.20844831867679], [28.5, 93.04991074280036], [28.625, 92.89245614021735], [28.75, 92.73607711302384], [28.875, 92.58076631388683], [29.0, 92.42651644570648], [29.125, 92.27332026128141], [29.25, 92.12117056297666], [29.375, 91.9700602023949], [29.5, 91.8199820800504], [29.625, 91.67092914504596], [29.75, 91.5228943947529], [29.875, 91.37587087449376]]}, "id": "el630154438554384"});
       }(mpld3);
    }else if(typeof define === "function" && define.amd){
       // require.js is available: use it to load d3/mpld3
       require.config({paths: {d3: "https://mpld3.github.io/js/d3.v3.min"}});
       require(["d3"], function(d3){
          window.d3 = d3;
          mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.2.js", function(){
             
             mpld3.draw_figure("fig_el6301544385543848546333273", {"axes": [{"xlim": [0.0, 29.875], "yscale": "linear", "axesbg": "#EAEAF2", "texts": [{"v_baseline": "hanging", "h_anchor": "middle", "color": "#262626", "text": "Time", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 11.0, "position": [0.5, -0.068426197458455532], "rotation": -0.0, "id": "el630154438596496"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#262626", "text": "Temperature", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 11.0, "position": [-0.065975722446236548, 0.5], "rotation": -90.0, "id": "el630154438522448"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#262626", "text": "Visualizing the Cooling of a Cup of Tea", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 12.0, "position": [0.5, 1.0162919517758229], "rotation": -0.0, "id": "el630154438508368"}, {"v_baseline": "auto", "h_anchor": "start", "color": "#262626", "text": "teacup_temperature", "coordinates": "axes", "zorder": 1000003.0, "alpha": 1, "fontsize": 10.0, "position": [0.75116557459677424, 0.94721407624633425], "rotation": -0.0, "id": "el630154445563792"}], "zoomable": true, "images": [], "xdomain": [0.0, 29.875], "ylim": [90.0, 180.0], "paths": [{"edgecolor": "#FFFFFF", "facecolor": "#EAEAF2", "edgewidth": 0.3, "pathcodes": ["M", "L", "L", "L", "Z"], "yindex": 1, "coordinates": "axes", "dasharray": "10,0", "zorder": 1000001.0, "alpha": 1, "xindex": 0, "data": "data03", "id": "el630154445564496"}], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"color": "#FFFFFF", "alpha": 1.0, "dasharray": "10,0", "gridOn": true}, "fontsize": 10.0, "position": "bottom", "nticks": 7, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"color": "#FFFFFF", "alpha": 1.0, "dasharray": "10,0", "gridOn": true}, "fontsize": 10.0, "position": "left", "nticks": 10, "tickvalues": null}], "lines": [{"color": "#4C72B0", "yindex": 1, "coordinates": "data", "dasharray": "10,0", "zorder": 2, "alpha": 1, "xindex": 0, "linewidth": 1.75, "data": "data01", "id": "el630154445568080"}, {"color": "#4C72B0", "yindex": 1, "coordinates": "axes", "dasharray": "10,0", "zorder": 1000002.0, "alpha": 1, "xindex": 0, "linewidth": 1.75, "data": "data02", "id": "el630154445561936"}], "markers": [], "id": "el630154438577424", "ydomain": [90.0, 180.0], "collections": [], "xscale": "linear", "bbox": [0.125, 0.125, 0.77500000000000002, 0.77500000000000002]}], "height": 440.0, "width": 640.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}], "data": {"data02": [[0.6884415602598567, 0.9586184424894102], [0.7332444276433693, 0.9586184424894102]], "data03": [[0.6794809867831542, 0.9256577875529489], [0.9887992831541218, 0.9256577875529489], [0.9887992831541218, 0.9837080482241772], [0.6794809867831542, 0.9837080482241772]], "data01": [[0.0, 180.0], [0.125, 179.248585487336], [0.25, 178.50230381053504], [0.375, 177.76112339609966], [0.5, 177.02500691908548], [0.625, 176.293916252564], [0.75, 175.5678196071584], [0.875, 174.846682864072], [1.0, 174.13047230939685], [1.125, 173.4191542289489], [1.25, 172.71269506157935], [1.375, 172.01106177287667], [1.5, 171.31422132680365], [1.625, 170.62214098920848], [1.75, 169.93478821409826], [1.875, 169.25213076061988], [2.0, 168.57413656289705], [2.125, 167.9007736514069], [2.25, 167.23201044369668], [2.375, 166.56781562011585], [2.5, 165.9081580783377], [2.625, 165.2530066956], [2.75, 164.60233066256376], [2.875, 163.95609941471622], [3.0, 163.31428260254097], [3.125, 162.6768500603399], [3.25, 162.04377182836132], [3.375, 161.41501816730093], [3.5, 160.79055954726113], [3.625, 160.17036663891616], [3.75, 159.55441026497166], [3.875, 158.94266150411045], [4.0, 158.33509161954242], [4.125, 157.7316720679479], [4.25, 157.13237442549627], [4.375, 156.53717051829747], [4.5, 155.94603238483595], [4.625, 155.35893225912358], [4.75, 154.77584256908804], [4.875, 154.19673593496114], [5.0, 153.6215851676672], [5.125, 153.05036326721125], [5.25, 152.48304342106752], [5.375, 151.91959900256765], [5.5, 151.36000356928912], [5.625, 150.8042308614435], [5.75, 150.25225479865233], [5.875, 149.7040494105472], [6.0, 149.15958891570372], [6.125, 148.61884773585584], [6.25, 148.08180046361608], [6.375, 147.54842186069635], [6.5, 147.01868685612902], [6.625, 146.492570544488], [6.75, 145.9700481841096], [6.875, 145.45109519531368], [7.0, 144.93568715862457], [7.125, 144.42379981299214], [7.25, 143.9154090540128], [7.375, 143.4104909321504], [7.5, 142.90902175123125], [7.625, 142.41097806580018], [7.75, 141.9163364819139], [7.875, 141.4250737672631], [8.0, 140.93716685132665], [8.125, 140.45259282447543], [8.25, 139.97132893707627], [8.375, 139.49335259859583], [8.5, 139.0186413767045], [8.625, 138.54717299638028], [8.75, 138.0789252984064], [8.875, 137.61387623699886], [9.0, 137.15200396174657], [9.125, 136.69328677031086], [9.25, 136.23770310666296], [9.375, 135.78523155982387], [9.5, 135.33585086260433], [9.625, 134.8895398903447], [9.75, 134.446277659655], [9.875, 134.00604332715469], [10.0, 133.5688162159311], [10.125, 133.13457581656138], [10.25, 132.70330172729925], [10.375, 132.2749736852412], [10.5, 131.8495715657207], [10.625, 131.42707538130088], [10.75, 131.0074652807674], [10.875, 130.5907215481215], [11.0, 130.17682460157286], [11.125, 129.76575499253232], [11.25, 129.35749340899739], [11.375, 128.95202067511283], [11.5, 128.54931774056115], [11.625, 128.14936568481343], [11.75, 127.7521457162369], [11.875, 127.35763917112857], [12.0, 126.96582751274893], [12.125, 126.57669233035571], [12.25, 126.19021533823756], [12.375, 125.80637837474778], [12.5, 125.42516340770383], [12.625, 125.04655253454996], [12.75, 124.67052796699488], [12.875, 124.29707203784147], [13.0, 123.92616720020331], [13.125, 123.55779602659871], [13.25, 123.1919412080447], [13.375, 122.82858555315096], [13.5, 122.46771198721382], [13.625, 122.10930355131019], [13.75, 121.75334341294092], [13.875, 121.39981484377972], [14.0, 121.04870124280252], [14.125, 120.69998611281414], [14.25, 120.3536530691472], [14.375, 120.0096858387771], [14.5, 119.66806825944325], [14.625, 119.32878427877647], [14.75, 118.99181795343279], [14.875, 118.6571534482333], [15.0, 118.32477504513999], [15.125, 117.994667143125], [15.25, 117.6668142335612], [15.375, 117.34120091313841], [15.5, 117.01781188333896], [15.625, 116.69663194966459], [15.75, 116.37764602087067], [15.875, 116.06083910820821], [16.0, 115.74619632467315], [16.125, 115.43370288426334], [16.25, 115.1233441012429], [16.375, 114.81510538941421], [16.5, 114.50897226139736], [16.625, 114.20493032791711], [16.75, 113.90296529709742], [16.875, 113.60306297376346], [17.0, 113.30520925875112], [17.125, 113.00939014863945], [17.25, 112.71559176139738], [17.375, 112.42380030551803], [17.5, 112.13400207040067], [17.625, 111.84618343938206], [17.75, 111.56033088916787], [17.875, 111.27643098927378], [18.0, 110.99447040147597], [18.125, 110.7144358792712], [18.25, 110.43631426734652], [18.375, 110.16009250105827], [18.5, 109.88575760592093], [18.625, 109.61329669710527], [18.75, 109.34269697894611], [18.875, 109.07394574445968], [19.0, 108.8070303748704], [19.125, 108.54193833914728], [19.25, 108.27865719354986], [19.375, 108.0171745746895], [19.5, 107.7574781543237], [19.625, 107.49955571981671], [19.75, 107.24339515247804], [19.875, 106.98898441659169], [20.0, 106.73631155888764], [20.125, 106.48536470801963], [20.25, 106.236132074049], [20.375, 105.98860194793453], [20.5, 105.74276270102855], [20.625, 105.49860278457913], [20.75, 105.25611072923819], [20.875, 105.01527514457597], [21.0, 104.77608471860145], [21.125, 104.538528217289], [21.25, 104.3025944841109], [21.375, 104.06827243957632], [21.5, 103.83555108077607], [21.625, 103.60441947111597], [21.75, 103.37486672836096], [21.875, 103.14688206555823], [22.0, 102.92045477085014], [22.125, 102.69557420559185], [22.25, 102.47222980386246], [22.375, 102.25041107198027], [22.5, 102.03010758802232], [22.625, 101.81130900134826], [22.75, 101.59400503212855], [22.875, 101.37818547087677], [23.0, 101.16384017798644], [23.125, 100.95095908327193], [23.25, 100.73953218551374], [23.375, 100.52954955200809], [23.5, 100.32100131812071], [23.625, 100.11387768684496], [23.75, 99.90816892836406], [23.875, 99.7038653742755], [24.0, 99.5009574209568], [24.125, 99.29943553485079], [24.25, 99.09929024757426], [24.375, 98.90051215548306], [24.5, 98.70309191924072], [24.625, 98.50702026339127], [24.75, 98.31228797593536], [24.875, 98.11888590791062], [25.0, 97.92680497297546], [25.125, 97.73603614699688], [25.25, 97.54657046764191], [25.375, 97.35839903397301], [25.5, 97.17151300604704], [25.625, 96.98590360451823], [25.75, 96.80156211024476], [25.875, 96.61847986389931], [26.0, 96.43664826511781], [26.125, 96.25605876470169], [26.25, 96.07670287526696], [26.375, 95.89857216988723], [26.5, 95.72165827922097], [26.625, 95.5459528911243], [26.75, 95.37144775026682], [26.875, 95.19813465775101], [27.0, 95.02600547073459], [27.125, 94.85505210205628], [27.25, 94.68526651986484], [27.375, 94.51664074725122], [27.5, 94.34916686188411], [27.625, 94.18283699564867], [27.75, 94.0176433342885], [27.875, 93.85357811705084], [28.0, 93.69063363633522], [28.125, 93.52880223734503], [28.25, 93.36807631666218], [28.375, 93.20844831867679], [28.5, 93.04991074280036], [28.625, 92.89245614021735], [28.75, 92.73607711302384], [28.875, 92.58076631388683], [29.0, 92.42651644570648], [29.125, 92.27332026128141], [29.25, 92.12117056297666], [29.375, 91.9700602023949], [29.5, 91.8199820800504], [29.625, 91.67092914504596], [29.75, 91.5228943947529], [29.875, 91.37587087449376]]}, "id": "el630154438554384"});
          });
        });
    }else{
        // require.js not available: dynamically load d3 & mpld3
        mpld3_load_lib("https://mpld3.github.io/js/d3.v3.min.js", function(){
             mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.2.js", function(){
                     
                     mpld3.draw_figure("fig_el6301544385543848546333273", {"axes": [{"xlim": [0.0, 29.875], "yscale": "linear", "axesbg": "#EAEAF2", "texts": [{"v_baseline": "hanging", "h_anchor": "middle", "color": "#262626", "text": "Time", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 11.0, "position": [0.5, -0.068426197458455532], "rotation": -0.0, "id": "el630154438596496"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#262626", "text": "Temperature", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 11.0, "position": [-0.065975722446236548, 0.5], "rotation": -90.0, "id": "el630154438522448"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#262626", "text": "Visualizing the Cooling of a Cup of Tea", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 12.0, "position": [0.5, 1.0162919517758229], "rotation": -0.0, "id": "el630154438508368"}, {"v_baseline": "auto", "h_anchor": "start", "color": "#262626", "text": "teacup_temperature", "coordinates": "axes", "zorder": 1000003.0, "alpha": 1, "fontsize": 10.0, "position": [0.75116557459677424, 0.94721407624633425], "rotation": -0.0, "id": "el630154445563792"}], "zoomable": true, "images": [], "xdomain": [0.0, 29.875], "ylim": [90.0, 180.0], "paths": [{"edgecolor": "#FFFFFF", "facecolor": "#EAEAF2", "edgewidth": 0.3, "pathcodes": ["M", "L", "L", "L", "Z"], "yindex": 1, "coordinates": "axes", "dasharray": "10,0", "zorder": 1000001.0, "alpha": 1, "xindex": 0, "data": "data03", "id": "el630154445564496"}], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"color": "#FFFFFF", "alpha": 1.0, "dasharray": "10,0", "gridOn": true}, "fontsize": 10.0, "position": "bottom", "nticks": 7, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"color": "#FFFFFF", "alpha": 1.0, "dasharray": "10,0", "gridOn": true}, "fontsize": 10.0, "position": "left", "nticks": 10, "tickvalues": null}], "lines": [{"color": "#4C72B0", "yindex": 1, "coordinates": "data", "dasharray": "10,0", "zorder": 2, "alpha": 1, "xindex": 0, "linewidth": 1.75, "data": "data01", "id": "el630154445568080"}, {"color": "#4C72B0", "yindex": 1, "coordinates": "axes", "dasharray": "10,0", "zorder": 1000002.0, "alpha": 1, "xindex": 0, "linewidth": 1.75, "data": "data02", "id": "el630154445561936"}], "markers": [], "id": "el630154438577424", "ydomain": [90.0, 180.0], "collections": [], "xscale": "linear", "bbox": [0.125, 0.125, 0.77500000000000002, 0.77500000000000002]}], "height": 440.0, "width": 640.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}], "data": {"data02": [[0.6884415602598567, 0.9586184424894102], [0.7332444276433693, 0.9586184424894102]], "data03": [[0.6794809867831542, 0.9256577875529489], [0.9887992831541218, 0.9256577875529489], [0.9887992831541218, 0.9837080482241772], [0.6794809867831542, 0.9837080482241772]], "data01": [[0.0, 180.0], [0.125, 179.248585487336], [0.25, 178.50230381053504], [0.375, 177.76112339609966], [0.5, 177.02500691908548], [0.625, 176.293916252564], [0.75, 175.5678196071584], [0.875, 174.846682864072], [1.0, 174.13047230939685], [1.125, 173.4191542289489], [1.25, 172.71269506157935], [1.375, 172.01106177287667], [1.5, 171.31422132680365], [1.625, 170.62214098920848], [1.75, 169.93478821409826], [1.875, 169.25213076061988], [2.0, 168.57413656289705], [2.125, 167.9007736514069], [2.25, 167.23201044369668], [2.375, 166.56781562011585], [2.5, 165.9081580783377], [2.625, 165.2530066956], [2.75, 164.60233066256376], [2.875, 163.95609941471622], [3.0, 163.31428260254097], [3.125, 162.6768500603399], [3.25, 162.04377182836132], [3.375, 161.41501816730093], [3.5, 160.79055954726113], [3.625, 160.17036663891616], [3.75, 159.55441026497166], [3.875, 158.94266150411045], [4.0, 158.33509161954242], [4.125, 157.7316720679479], [4.25, 157.13237442549627], [4.375, 156.53717051829747], [4.5, 155.94603238483595], [4.625, 155.35893225912358], [4.75, 154.77584256908804], [4.875, 154.19673593496114], [5.0, 153.6215851676672], [5.125, 153.05036326721125], [5.25, 152.48304342106752], [5.375, 151.91959900256765], [5.5, 151.36000356928912], [5.625, 150.8042308614435], [5.75, 150.25225479865233], [5.875, 149.7040494105472], [6.0, 149.15958891570372], [6.125, 148.61884773585584], [6.25, 148.08180046361608], [6.375, 147.54842186069635], [6.5, 147.01868685612902], [6.625, 146.492570544488], [6.75, 145.9700481841096], [6.875, 145.45109519531368], [7.0, 144.93568715862457], [7.125, 144.42379981299214], [7.25, 143.9154090540128], [7.375, 143.4104909321504], [7.5, 142.90902175123125], [7.625, 142.41097806580018], [7.75, 141.9163364819139], [7.875, 141.4250737672631], [8.0, 140.93716685132665], [8.125, 140.45259282447543], [8.25, 139.97132893707627], [8.375, 139.49335259859583], [8.5, 139.0186413767045], [8.625, 138.54717299638028], [8.75, 138.0789252984064], [8.875, 137.61387623699886], [9.0, 137.15200396174657], [9.125, 136.69328677031086], [9.25, 136.23770310666296], [9.375, 135.78523155982387], [9.5, 135.33585086260433], [9.625, 134.8895398903447], [9.75, 134.446277659655], [9.875, 134.00604332715469], [10.0, 133.5688162159311], [10.125, 133.13457581656138], [10.25, 132.70330172729925], [10.375, 132.2749736852412], [10.5, 131.8495715657207], [10.625, 131.42707538130088], [10.75, 131.0074652807674], [10.875, 130.5907215481215], [11.0, 130.17682460157286], [11.125, 129.76575499253232], [11.25, 129.35749340899739], [11.375, 128.95202067511283], [11.5, 128.54931774056115], [11.625, 128.14936568481343], [11.75, 127.7521457162369], [11.875, 127.35763917112857], [12.0, 126.96582751274893], [12.125, 126.57669233035571], [12.25, 126.19021533823756], [12.375, 125.80637837474778], [12.5, 125.42516340770383], [12.625, 125.04655253454996], [12.75, 124.67052796699488], [12.875, 124.29707203784147], [13.0, 123.92616720020331], [13.125, 123.55779602659871], [13.25, 123.1919412080447], [13.375, 122.82858555315096], [13.5, 122.46771198721382], [13.625, 122.10930355131019], [13.75, 121.75334341294092], [13.875, 121.39981484377972], [14.0, 121.04870124280252], [14.125, 120.69998611281414], [14.25, 120.3536530691472], [14.375, 120.0096858387771], [14.5, 119.66806825944325], [14.625, 119.32878427877647], [14.75, 118.99181795343279], [14.875, 118.6571534482333], [15.0, 118.32477504513999], [15.125, 117.994667143125], [15.25, 117.6668142335612], [15.375, 117.34120091313841], [15.5, 117.01781188333896], [15.625, 116.69663194966459], [15.75, 116.37764602087067], [15.875, 116.06083910820821], [16.0, 115.74619632467315], [16.125, 115.43370288426334], [16.25, 115.1233441012429], [16.375, 114.81510538941421], [16.5, 114.50897226139736], [16.625, 114.20493032791711], [16.75, 113.90296529709742], [16.875, 113.60306297376346], [17.0, 113.30520925875112], [17.125, 113.00939014863945], [17.25, 112.71559176139738], [17.375, 112.42380030551803], [17.5, 112.13400207040067], [17.625, 111.84618343938206], [17.75, 111.56033088916787], [17.875, 111.27643098927378], [18.0, 110.99447040147597], [18.125, 110.7144358792712], [18.25, 110.43631426734652], [18.375, 110.16009250105827], [18.5, 109.88575760592093], [18.625, 109.61329669710527], [18.75, 109.34269697894611], [18.875, 109.07394574445968], [19.0, 108.8070303748704], [19.125, 108.54193833914728], [19.25, 108.27865719354986], [19.375, 108.0171745746895], [19.5, 107.7574781543237], [19.625, 107.49955571981671], [19.75, 107.24339515247804], [19.875, 106.98898441659169], [20.0, 106.73631155888764], [20.125, 106.48536470801963], [20.25, 106.236132074049], [20.375, 105.98860194793453], [20.5, 105.74276270102855], [20.625, 105.49860278457913], [20.75, 105.25611072923819], [20.875, 105.01527514457597], [21.0, 104.77608471860145], [21.125, 104.538528217289], [21.25, 104.3025944841109], [21.375, 104.06827243957632], [21.5, 103.83555108077607], [21.625, 103.60441947111597], [21.75, 103.37486672836096], [21.875, 103.14688206555823], [22.0, 102.92045477085014], [22.125, 102.69557420559185], [22.25, 102.47222980386246], [22.375, 102.25041107198027], [22.5, 102.03010758802232], [22.625, 101.81130900134826], [22.75, 101.59400503212855], [22.875, 101.37818547087677], [23.0, 101.16384017798644], [23.125, 100.95095908327193], [23.25, 100.73953218551374], [23.375, 100.52954955200809], [23.5, 100.32100131812071], [23.625, 100.11387768684496], [23.75, 99.90816892836406], [23.875, 99.7038653742755], [24.0, 99.5009574209568], [24.125, 99.29943553485079], [24.25, 99.09929024757426], [24.375, 98.90051215548306], [24.5, 98.70309191924072], [24.625, 98.50702026339127], [24.75, 98.31228797593536], [24.875, 98.11888590791062], [25.0, 97.92680497297546], [25.125, 97.73603614699688], [25.25, 97.54657046764191], [25.375, 97.35839903397301], [25.5, 97.17151300604704], [25.625, 96.98590360451823], [25.75, 96.80156211024476], [25.875, 96.61847986389931], [26.0, 96.43664826511781], [26.125, 96.25605876470169], [26.25, 96.07670287526696], [26.375, 95.89857216988723], [26.5, 95.72165827922097], [26.625, 95.5459528911243], [26.75, 95.37144775026682], [26.875, 95.19813465775101], [27.0, 95.02600547073459], [27.125, 94.85505210205628], [27.25, 94.68526651986484], [27.375, 94.51664074725122], [27.5, 94.34916686188411], [27.625, 94.18283699564867], [27.75, 94.0176433342885], [27.875, 93.85357811705084], [28.0, 93.69063363633522], [28.125, 93.52880223734503], [28.25, 93.36807631666218], [28.375, 93.20844831867679], [28.5, 93.04991074280036], [28.625, 92.89245614021735], [28.75, 92.73607711302384], [28.875, 92.58076631388683], [29.0, 92.42651644570648], [29.125, 92.27332026128141], [29.25, 92.12117056297666], [29.375, 91.9700602023949], [29.5, 91.8199820800504], [29.625, 91.67092914504596], [29.75, 91.5228943947529], [29.875, 91.37587087449376]]}, "id": "el630154438554384"});
                })
             });
    }
    </script>



